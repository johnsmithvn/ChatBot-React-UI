<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¯ ChatBot - Workspace Test Guide</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8fafc;
            color: #1e293b;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #3b82f6;
            text-align: center;
            margin-bottom: 30px;
        }
        .step {
            background: #f1f5f9;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #3b82f6;
        }
        .step h3 {
            margin: 0 0 10px 0;
            color: #1e40af;
        }
        .expected {
            background: #dcfce7;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #16a34a;
        }
        .expected strong {
            color: #15803d;
        }
        .warning {
            background: #fef3c7;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #f59e0b;
        }
        .warning strong {
            color: #d97706;
        }
        .code {
            background: #1e293b;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
        }
        .success {
            background: #dcfce7;
            color: #166534;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            font-weight: bold;
            margin: 20px 0;
        }
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: #3b82f6;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin: 10px 5px;
        }
        .btn:hover {
            background: #2563eb;
        }
        .btn-success {
            background: #16a34a;
        }
        .btn-warning {
            background: #f59e0b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ ChatBot React - Workspace Test Guide</h1>
        
        <div class="success">
            âœ… Workspace isolation Ä‘Ã£ Ä‘Æ°á»£c implement!<br>
            Chats giá» Ä‘Ã¢y thuá»™c vá» workspace cá»¥ thá»ƒ
        </div>

        <div class="step">
            <h3>ğŸ Step 1: Khá»Ÿi cháº¡y á»©ng dá»¥ng</h3>
            <div class="code">
                # Cháº¡y trong terminal:
                npm run dev
                # hoáº·c double-click: start.bat
            </div>
            <div class="expected">
                <strong>Expected:</strong> Server cháº¡y táº¡i http://localhost:5173
            </div>
        </div>

        <div class="step">
            <h3>ğŸ¢ Step 2: Kiá»ƒm tra Workspace máº·c Ä‘á»‹nh</h3>
            <p>Khi má»Ÿ app láº§n Ä‘áº§u:</p>
            <div class="expected">
                <strong>Expected:</strong> 
                <ul>
                    <li>CÃ³ workspace "Default Workspace" Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng</li>
                    <li>Sidebar hiá»ƒn thá»‹ workspace selector</li>
                    <li>CÃ³ má»™t chat máº·c Ä‘á»‹nh (náº¿u chÆ°a cÃ³)</li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h3>ğŸ†• Step 3: Táº¡o workspace má»›i</h3>
            <p>1. Click "ğŸ¢ Workspaces" á»Ÿ sidebar footer</p>
            <p>2. Táº¡o workspace má»›i: "Test Workspace"</p>
            <p>3. MÃ´ táº£: "Testing workspace isolation"</p>
            <div class="expected">
                <strong>Expected:</strong> 
                <ul>
                    <li>Workspace "Test Workspace" Ä‘Æ°á»£c táº¡o vÃ  selected</li>
                    <li>Sidebar hiá»ƒn thá»‹ workspace má»›i</li>
                    <li>Chats cÅ© biáº¿n máº¥t (vÃ¬ thuá»™c workspace khÃ¡c)</li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h3>ğŸ’¬ Step 4: Táº¡o chats trong workspace má»›i</h3>
            <p>1. Click "New Chat" button</p>
            <p>2. Táº¡o thÃªm vÃ i chats ná»¯a</p>
            <p>3. Gá»­i messages trong cÃ¡c chats</p>
            <div class="expected">
                <strong>Expected:</strong> 
                <ul>
                    <li>Chats má»›i Ä‘Æ°á»£c táº¡o vÃ  hiá»ƒn thá»‹</li>
                    <li>Messages hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng</li>
                    <li>Chats cÃ³ workspaceId = "Test Workspace"</li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h3>ğŸ”„ Step 5: Test workspace switching</h3>
            <p>1. Äá»•i vá» workspace "Default Workspace"</p>
            <p>2. Quan sÃ¡t sidebar</p>
            <p>3. Äá»•i láº¡i "Test Workspace"</p>
            <div class="expected">
                <strong>Expected:</strong> 
                <ul>
                    <li>Khi Ä‘á»•i workspace â†’ chá»‰ tháº¥y chats cá»§a workspace Ä‘Ã³</li>
                    <li>Chats khÃ´ng bá»‹ trá»™n láº«n giá»¯a workspaces</li>
                    <li>Current chat Ä‘Æ°á»£c reset khi Ä‘á»•i workspace</li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h3>ğŸ“ Step 6: Test groups trong workspace</h3>
            <p>1. Trong workspace, click â• next to "ğŸ“ Groups"</p>
            <p>2. Táº¡o group: "Development"</p>
            <p>3. Click â• next to group name Ä‘á»ƒ táº¡o chat trong group</p>
            <p>4. Táº¡o thÃªm group "Testing" vÃ  chat bÃªn trong</p>
            <div class="expected">
                <strong>Expected:</strong> 
                <ul>
                    <li>Groups Ä‘Æ°á»£c táº¡o vÃ  hiá»ƒn thá»‹</li>
                    <li>Chats trong groups tá»± Ä‘á»™ng expand</li>
                    <li>Chats ngoÃ i groups hiá»ƒn thá»‹ á»Ÿ "Ungrouped Chats"</li>
                </ul>
            </div>
        </div>

        <div class="step">
            <h3>ğŸ”§ Step 7: Test persistence</h3>
            <p>1. Refresh page (F5)</p>
            <p>2. Kiá»ƒm tra workspaces vÃ  chats</p>
            <div class="expected">
                <strong>Expected:</strong> 
                <ul>
                    <li>Workspaces Ä‘Æ°á»£c lÆ°u Ä‘Ãºng</li>
                    <li>Chats thuá»™c Ä‘Ãºng workspace</li>
                    <li>Groups vÃ  organization Ä‘Æ°á»£c maintain</li>
                </ul>
            </div>
        </div>

        <div class="warning">
            <strong>âš ï¸ Debugging:</strong> Má»Ÿ Browser DevTools (F12) â†’ Console Ä‘á»ƒ xem logs:
            <ul>
                <li>"Workspace chats updated" - khi chats thay Ä‘á»•i</li>
                <li>"Current workspace" - workspace hiá»‡n táº¡i</li>
                <li>"Current chat" - chat hiá»‡n táº¡i</li>
            </ul>
        </div>

        <div class="step">
            <h3>ğŸ¯ Step 8: Validate data structure</h3>
            <p>Trong Browser DevTools â†’ Application â†’ Local Storage:</p>
            <div class="code">
                workspace_chats: {
                  "default": [chat1, chat2],
                  "workspace_test": [chat3, chat4]
                }
                
                workspaces: [
                  { id: "default", name: "Default Workspace", groups: [...] },
                  { id: "workspace_test", name: "Test Workspace", groups: [...] }
                ]
            </div>
            <div class="expected">
                <strong>Expected:</strong> Chats Ä‘Æ°á»£c tÃ¡ch biá»‡t theo workspace
            </div>
        </div>

        <div class="success">
            ğŸ‰ Náº¿u táº¥t cáº£ steps Ä‘á»u pass â†’ Workspace isolation hoáº¡t Ä‘á»™ng Ä‘Ãºng!
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="#" class="btn btn-success" onclick="window.open('http://localhost:5173', '_blank')">
                ğŸš€ Má»Ÿ ChatBot App
            </a>
            <a href="#" class="btn btn-warning" onclick="alert('Kiá»ƒm tra Browser DevTools â†’ Console Ä‘á»ƒ xem logs!')">
                ğŸ” Debug Mode
            </a>
        </div>
    </div>

    <script>
        // Auto-refresh every 30 seconds to check if server is running
        setInterval(() => {
            fetch('http://localhost:5173').then(() => {
                console.log('âœ… Server is running');
            }).catch(() => {
                console.log('âŒ Server is not running');
            });
        }, 30000);
    </script>
</body>
</html>
